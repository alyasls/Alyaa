<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alya's Sanctuary ü¶¢</title>
<link href="https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;1,400&family=Dancing+Script:wght@500;700&family=Playfair+Display:ital,wght@0,400;1,400&family=Crimson+Text:ital@0;1&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

<style>
  /* --- HIDE BLOG ELEMENTS --- */
  #navbar-iframe, .navbar, .navbar-c, #navbar, header, footer, .header-outer, .footer-outer, .sidebar-container, .tabs-outer, .nav, .PopularPosts, .BlogArchive, .Profile, .post-footer, .comment-replybox-single, .blog-pager, #comments, .comments { 
    display: none !important; visibility: hidden !important; height: 0 !important; 
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: linear-gradient(135deg, #fff0f5 0%, #ffe4e9 100%) !important;
    background-attachment: fixed;
    margin: 0 !important; 
    padding: 0 !important;
    overflow-x: hidden; 
    font-family: 'Courier Prime', monospace;
    position: relative;
  }

  /* Animated background pattern */
  body::before {
    content: '';
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-image: 
      radial-gradient(circle at 20% 50%, rgba(255, 182, 193, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(219, 112, 147, 0.1) 0%, transparent 50%),
      radial-gradient(#ffb7c5 0.8px, transparent 0.8px);
    background-size: 200% 200%, 200% 200%, 15px 15px;
    animation: bgShift 20s ease infinite;
    pointer-events: none;
    z-index: 0;
  }

  @keyframes bgShift {
    0%, 100% { background-position: 0% 0%, 100% 100%, 0 0; }
    50% { background-position: 100% 100%, 0% 0%, 0 0; }
  }

  :root { 
    --coquette-pink: #db7093; 
    --soft-cream: #fff9fb; 
    --vintage-brown: #5c4033;
    --pastel-purple: #e6b8e7;
    --soft-blue: #b4d7ff;
  }

  /* --- RUNNING TEXT --- */
  .running-text {
    background: linear-gradient(90deg, var(--coquette-pink), #ff9ab5, var(--coquette-pink));
    background-size: 200% 100%;
    animation: gradientMove 3s linear infinite;
    color: white;
    padding: 8px 0;
    font-size: 13px;
    white-space: nowrap;
    overflow: hidden;
    position: sticky;
    top: 0;
    z-index: 1000;
    box-shadow: 0 3px 10px rgba(219, 112, 147, 0.3);
  }

  @keyframes gradientMove {
    0% { background-position: 0% 50%; }
    100% { background-position: 200% 50%; }
  }
  
  /* --- POPUP NOTIFICATIONS --- */
  .mini-popup {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: white;
    border: 2px solid var(--coquette-pink);
    padding: 12px 18px;
    border-radius: 25px;
    font-size: 13px;
    color: var(--coquette-pink);
    z-index: 10000;
    box-shadow: 0 8px 20px rgba(219, 112, 147, 0.25);
    display: flex;
    align-items: center;
    gap: 10px;
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.95);
  }

  /* --- INVITATION OVERLAY --- */
  #invitation-overlay { 
    position: fixed; 
    top: 0; left: 0; 
    width: 100%; 
    height: 100%; 
    background: linear-gradient(135deg, #fff0f5 0%, #ffe4e9 100%);
    z-index: 999999; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center; 
  }

  .invitation-card {
    background: white;
    padding: 40px;
    border-radius: 30px;
    border: 3px solid var(--coquette-pink);
    box-shadow: 0 15px 40px rgba(219, 112, 147, 0.2);
    text-align: center;
    max-width: 400px;
  }

  .btn-enter { 
    background: linear-gradient(135deg, var(--coquette-pink), #ff9ab5);
    color: white; 
    border: none; 
    padding: 18px 40px; 
    border-radius: 30px; 
    cursor: pointer; 
    font-family: 'Courier Prime'; 
    font-size: 16px;
    font-weight: bold;
    box-shadow: 0 8px 20px rgba(219, 112, 147, 0.4);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .btn-enter::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }

  .btn-enter:hover::before {
    width: 300px;
    height: 300px;
  }

  .btn-enter:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 30px rgba(219, 112, 147, 0.5);
  }

  /* --- MAIN CONTAINER --- */
  .alya-app-container { 
    width: 92%; 
    max-width: 550px; 
    margin: 20px auto; 
    background: rgba(255, 249, 251, 0.95);
    backdrop-filter: blur(10px);
    border: 3px solid var(--coquette-pink);
    border-radius: 30px; 
    padding: 20px; 
    box-shadow: 0 15px 35px rgba(219, 112, 147, 0.2);
    position: relative;
    z-index: 1;
  }

  /* --- DECORATIVE HEADER --- */
  .header-decoration {
    display: flex;
    justify-content: space-around;
    margin-bottom: 15px;
    font-size: 24px;
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  /* --- CLOCK --- */
  .clock-container { 
    display: flex; 
    justify-content: center; 
    align-items: center;
    gap: 15px;
    margin: 15px 0; 
  }

  .analog-clock { 
    width: 80px; 
    height: 80px; 
    border: 4px solid var(--coquette-pink);
    border-radius: 50%; 
    position: relative; 
    background: white;
    box-shadow: inset 0 0 10px rgba(219, 112, 147, 0.1), 0 5px 15px rgba(219, 112, 147, 0.2);
  }

  .clock-center {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 8px;
    height: 8px;
    background: var(--coquette-pink);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
  }

  .hand { 
    position: absolute; 
    bottom: 50%; 
    left: 50%; 
    transform-origin: bottom center;
    background: var(--vintage-brown);
    border-radius: 10px;
  }

  .hour { width: 4px; height: 20px; } 
  .min { width: 3px; height: 28px; } 
  .sec { width: 2px; height: 32px; background: var(--coquette-pink); }

  .digital-time {
    font-family: 'Crimson Text', serif;
    font-size: 18px;
    color: var(--coquette-pink);
    font-weight: bold;
  }

  /* --- GAME BOX --- */
  .game-box { 
    background: white;
    border-radius: 20px; 
    padding: 18px; 
    margin: 15px 0; 
    border: 2px solid #ffdae0;
    box-shadow: 0 5px 15px rgba(219, 112, 147, 0.1);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .game-box::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, rgba(219, 112, 147, 0.05) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .game-box:hover::before {
    opacity: 1;
  }

  .game-box:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(219, 112, 147, 0.15);
    border-color: var(--coquette-pink);
  }

  .game-box h3 {
    margin: 0 0 12px 0; 
    font-size: 16px;
    color: var(--coquette-pink);
    font-family: 'Dancing Script', cursive;
    font-weight: 700;
  }

  /* --- BUTTONS --- */
  .btn-pink { 
    background: linear-gradient(135deg, var(--coquette-pink), #ff9ab5);
    color: white; 
    border: none; 
    padding: 12px; 
    border-radius: 18px; 
    cursor: pointer; 
    width: 100%; 
    font-size: 14px; 
    margin-top: 8px;
    font-weight: bold;
    transition: all 0.3s ease;
    box-shadow: 0 4px 10px rgba(219, 112, 147, 0.3);
  }

  .btn-pink:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(219, 112, 147, 0.4);
  }

  .btn-pink:active {
    transform: translateY(0);
  }

  /* --- INPUTS --- */
  .diary-input { 
    width: 100%; 
    border: 2px solid #ffdae0;
    border-radius: 15px; 
    padding: 12px; 
    font-size: 14px; 
    outline: none;
    font-family: 'Courier Prime', monospace;
    transition: all 0.3s ease;
    background: #fffbfc;
  }

  .diary-input:focus {
    border-color: var(--coquette-pink);
    box-shadow: 0 0 0 3px rgba(219, 112, 147, 0.1);
    background: white;
  }

  /* --- WISHING TREE --- */
  .tree-container { 
    position: relative; 
    width: 100%; 
    height: 200px; 
    background: linear-gradient(to bottom, #e3f2fd 0%, #fff9fb 100%);
    border-radius: 20px; 
    border: 2px solid #ffdae0;
    margin: 12px 0; 
    overflow: hidden; 
    display: flex; 
    align-items: flex-end; 
    justify-content: center; 
  }

  .tree-trunk { 
    width: 18px; 
    height: 90px; 
    background: linear-gradient(to right, #6b4423, #8b5a2b, #6b4423);
    border-radius: 10px 10px 0 0; 
    position: relative;
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2);
  }

  .tree-leaves { 
    position: absolute; 
    top: -100px; 
    left: -65px; 
    width: 140px; 
    height: 130px; 
    background: radial-gradient(circle, #ffb6c1, #ffc0cb);
    border-radius: 50%;
    box-shadow: 0 5px 20px rgba(255, 182, 193, 0.5);
  }

  .tree-leaves::before,
  .tree-leaves::after {
    content: '';
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle, #ffb6c1, #ffc0cb);
  }

  .tree-leaves::before {
    width: 100px;
    height: 100px;
    top: -30px;
    left: 20px;
  }

  .tree-leaves::after {
    width: 90px;
    height: 90px;
    top: 10px;
    right: -20px;
  }

  .wish-fruit { 
    position: absolute; 
    cursor: pointer; 
    animation: sway 3s ease-in-out infinite;
    font-size: 18px;
    transition: transform 0.3s ease;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
  }

  .wish-fruit:hover {
    transform: scale(1.3) !important;
    animation: none;
  }

  .wish-fruit:hover::after { 
    content: attr(data-wish); 
    position: absolute; 
    bottom: 25px; 
    left: 50%; 
    transform: translateX(-50%); 
    background: white;
    border: 2px solid var(--coquette-pink);
    padding: 6px 12px; 
    border-radius: 12px; 
    font-size: 11px; 
    white-space: nowrap; 
    z-index: 20; 
    color: var(--coquette-pink);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    font-family: 'Courier Prime', monospace;
  }

  @keyframes sway { 
    0%, 100% { transform: rotate(-8deg); } 
    50% { transform: rotate(8deg); } 
  }

  /* --- PETALS --- */
  .petal { 
    position: fixed; 
    top: -10%; 
    z-index: 999; 
    pointer-events: none; 
    animation: fall linear forwards;
    opacity: 0.8;
  }

  @keyframes fall { 
    to { 
      transform: translateY(110vh) rotate(720deg); 
      opacity: 0;
    } 
  }

  /* --- MEMORY GAME --- */
  .memory-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin: 15px 0;
  }

  .memory-card {
    aspect-ratio: 1;
    background: linear-gradient(135deg, #ffd6e0, #ffb6c1);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid #ffdae0;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
  }

  .memory-card:hover {
    transform: scale(1.05);
  }

  .memory-card.flipped {
    background: white;
    transform: rotateY(180deg);
  }

  .memory-card.matched {
    background: var(--coquette-pink);
    color: white;
    animation: pulse 0.5s ease;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }

  /* --- MOOD TRACKER --- */
  .mood-selector {
    display: flex;
    justify-content: space-around;
    margin: 15px 0;
    flex-wrap: wrap;
    gap: 10px;
  }

  .mood-btn {
    font-size: 32px;
    cursor: pointer;
    transition: all 0.3s ease;
    padding: 10px;
    border-radius: 50%;
    background: white;
    border: 2px solid transparent;
  }

  .mood-btn:hover {
    transform: scale(1.2) rotate(10deg);
  }

  .mood-btn.selected {
    border-color: var(--coquette-pink);
    background: rgba(219, 112, 147, 0.1);
    transform: scale(1.3);
  }

  /* --- FORTUNE WHEEL --- */
  .fortune-wheel {
    width: 200px;
    height: 200px;
    border: 8px solid var(--coquette-pink);
    border-radius: 50%;
    margin: 15px auto;
    position: relative;
    background: conic-gradient(
      from 0deg,
      #ffb6c1 0deg 60deg,
      #ffd6e0 60deg 120deg,
      #e6b8e7 120deg 180deg,
      #b4d7ff 180deg 240deg,
      #ffc0cb 240deg 300deg,
      #ffb6c1 300deg 360deg
    );
    transition: transform 3s cubic-bezier(0.25, 0.1, 0.25, 1);
    box-shadow: 0 10px 30px rgba(219, 112, 147, 0.3);
  }

  .wheel-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 40px;
    background: var(--coquette-pink);
    border-radius: 50%;
    border: 4px solid white;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    z-index: 10;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
  }

  .wheel-pointer {
    position: absolute;
    top: -15px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-top: 25px solid var(--coquette-pink);
    filter: drop-shadow(0 3px 5px rgba(0, 0, 0, 0.3));
  }

  /* --- LOVE CALCULATOR --- */
  .love-hearts {
    display: flex;
    justify-content: center;
    gap: 5px;
    margin: 10px 0;
    font-size: 24px;
  }

  .heart {
    opacity: 0.3;
    transition: all 0.3s ease;
  }

  .heart.active {
    opacity: 1;
    animation: heartBeat 0.5s ease;
  }

  @keyframes heartBeat {
    0%, 100% { transform: scale(1); }
    25% { transform: scale(1.3); }
    50% { transform: scale(1.1); }
  }

  /* --- STATS DISPLAY --- */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    margin: 15px 0;
  }

  .stat-box {
    background: linear-gradient(135deg, #fff0f5, #ffe4e9);
    padding: 15px;
    border-radius: 15px;
    text-align: center;
    border: 2px solid #ffdae0;
  }

  .stat-number {
    font-size: 24px;
    font-weight: bold;
    color: var(--coquette-pink);
    font-family: 'Dancing Script', cursive;
  }

  .stat-label {
    font-size: 11px;
    color: #8b5a6d;
    margin-top: 5px;
  }

  /* --- PROGRESS BAR --- */
  .progress-container {
    background: #f0f0f0;
    border-radius: 20px;
    height: 20px;
    overflow: hidden;
    margin: 10px 0;
  }

  .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--coquette-pink), #ff9ab5);
    border-radius: 20px;
    transition: width 0.5s ease;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding-right: 10px;
    color: white;
    font-size: 11px;
    font-weight: bold;
  }

  /* --- MUSIC PLAYER --- */
  .music-player {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: white;
    border-radius: 18px;
    border: 2px solid #ffdae0;
  }

  .music-btn {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    border: none;
    background: linear-gradient(135deg, var(--coquette-pink), #ff9ab5);
    color: white;
    font-size: 18px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    box-shadow: 0 3px 10px rgba(219, 112, 147, 0.3);
  }

  .music-btn:hover {
    transform: scale(1.1);
  }

  .music-info {
    flex: 1;
    text-align: left;
  }

  .music-title {
    font-weight: bold;
    color: var(--coquette-pink);
    font-size: 13px;
  }

  .music-artist {
    font-size: 11px;
    color: #8b5a6d;
  }

  /* --- QUIZ GAME --- */
  .quiz-options {
    display: grid;
    gap: 10px;
    margin: 15px 0;
  }

  .quiz-option {
    padding: 12px;
    background: white;
    border: 2px solid #ffdae0;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: left;
  }

  .quiz-option:hover {
    background: rgba(219, 112, 147, 0.1);
    border-color: var(--coquette-pink);
    transform: translateX(5px);
  }

  .quiz-option.correct {
    background: #d4edda;
    border-color: #28a745;
  }

  .quiz-option.wrong {
    background: #f8d7da;
    border-color: #dc3545;
  }

  /* --- AESTHETIC ADDITIONS --- */
  .divider {
    height: 2px;
    background: linear-gradient(to right, transparent, var(--coquette-pink), transparent);
    margin: 20px 0;
  }

  .sparkle {
    display: inline-block;
    animation: sparkle 2s ease-in-out infinite;
  }

  @keyframes sparkle {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(0.8); }
  }

  /* --- RESPONSIVE --- */
  @media (max-width: 480px) {
    .alya-app-container {
      width: 95%;
      padding: 15px;
    }

    .memory-grid {
      grid-template-columns: repeat(3, 1fr);
    }

    .fortune-wheel {
      width: 160px;
      height: 160px;
    }
  }

  /* --- SCROLLBAR --- */
  ::-webkit-scrollbar {
    width: 10px;
  }

  ::-webkit-scrollbar-track {
    background: #fff0f5;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--coquette-pink);
    border-radius: 10px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #c5577c;
  }
</style>
</head>
<body>

<!-- INVITATION OVERLAY -->
<div id="invitation-overlay">
  <div class="invitation-card animate__animated animate__fadeIn">
    <div class="header-decoration">
      <span>ü¶¢</span>
      <span>üíñ</span>
      <span>üå∏</span>
    </div>
    <h1 style="font-family: 'Dancing Script'; font-size: 42px; color: #db7093; margin: 10px 0;">Alya's Heart</h1>
    <p style="color: #8b5a6d; margin: 15px 0; font-size: 14px;">Enter a world of dreams, thoughts, and magic</p>
    <div style="font-size: 40px; margin: 20px;">ü¶¢</div>
    <button class="btn-enter" onclick="openAlyaWorld()">
      <span style="position: relative; z-index: 1;">Enter Sanctuary üíå</span>
    </button>
  </div>
</div>

<!-- MAIN CONTENT -->
<div id="mainContent" style="display:none;">
  <!-- RUNNING TEXT -->
  <div class="running-text">
    <marquee scrollamount="6">üéÄ Welcome to Alya's Secret Sanctuary ü¶¢ Stay soft, dream big, and be magical today! ‚ú® You are loved üíñ Keep shining like a pearl üêö Every moment is precious üå∏ Believe in your dreams üí´ üéÄ</marquee>
  </div>

  <!-- MAIN CONTAINER -->
  <div class="alya-app-container animate__animated animate__fadeInUp">
    
    <!-- HEADER -->
    <div style="text-align: center;">
      <div class="header-decoration">
        <span class="sparkle">ü¶¢</span>
        <span class="sparkle">üíñ</span>
        <span class="sparkle">üå∏</span>
        <span class="sparkle">‚ú®</span>
        <span class="sparkle">ü¶¢</span>
      </div>
      <h1 style="font-family: 'Dancing Script'; color: var(--coquette-pink); font-size: 32px; margin: 5px 0;">Alya's Sanctuary</h1>
      
      <!-- CLOCK -->
      <div class="clock-container">
        <div class="analog-clock">
          <div id="hour" class="hand hour"></div>
          <div id="min" class="hand min"></div>
          <div id="sec" class="hand sec"></div>
          <div class="clock-center"></div>
        </div>
        <div class="digital-time" id="digitalTime">00:00:00</div>
      </div>

      <!-- MUSIC PLAYER -->
      <div class="music-player">
        <button class="music-btn" id="musicToggle" onclick="toggleMusic()">‚ñ∂</button>
        <div class="music-info">
          <div class="music-title">Lofi Love Story</div>
          <div class="music-artist">Coquette Vibes ü¶¢</div>
        </div>
        <audio id="bgMusic" loop>
          <source src="https://www.bensound.com/bensound-music/bensound-love.mp3" type="audio/mpeg">
        </audio>
      </div>

      <!-- STATS -->
      <div class="stats-grid">
        <div class="stat-box">
          <div class="stat-number" id="totalWishes">0</div>
          <div class="stat-label">Wishes Made ‚ú®</div>
        </div>
        <div class="stat-box">
          <div class="stat-number" id="daysActive">1</div>
          <div class="stat-label">Days in Sanctuary ü¶¢</div>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <!-- WISHING TREE -->
    <div class="game-box">
      <h3>üå≥ The Wishing Tree</h3>
      <div class="tree-container">
        <div class="tree-trunk">
          <div class="tree-leaves" id="treeLeaves"></div>
        </div>
      </div>
      <input type="text" id="wishInput" class="diary-input" placeholder="Tuliskan harapan terindahmu...">
      <button class="btn-pink" onclick="addWish()">Gantung Harapan ‚ú®</button>
    </div>

    <!-- MOOD TRACKER -->
    <div class="game-box">
      <h3>üí≠ Mood Tracker</h3>
      <div class="mood-selector">
        <span class="mood-btn" onclick="selectMood('üòä', this)">üòä</span>
        <span class="mood-btn" onclick="selectMood('üò¢', this)">üò¢</span>
        <span class="mood-btn" onclick="selectMood('üòç', this)">üòç</span>
        <span class="mood-btn" onclick="selectMood('üò¥', this)">üò¥</span>
        <span class="mood-btn" onclick="selectMood('ü•∞', this)">ü•∞</span>
        <span class="mood-btn" onclick="selectMood('üò§', this)">üò§</span>
      </div>
      <textarea class="diary-input" id="moodNote" rows="2" placeholder="Ceritakan perasaanmu..."></textarea>
      <button class="btn-pink" onclick="saveMood()">Simpan Mood üíñ</button>
      <div id="moodHistory" style="margin-top:10px; font-size:11px; color:#8b5a6d;"></div>
    </div>

    <!-- FORTUNE WHEEL -->
    <div class="game-box">
      <h3>üé° Fortune Wheel</h3>
      <div style="position: relative;">
        <div class="wheel-pointer"></div>
        <div class="fortune-wheel" id="fortuneWheel">
          <div class="wheel-center">SPIN</div>
        </div>
      </div>
      <button class="btn-pink" onclick="spinWheel()">Putar Keberuntungan! ü¶¢</button>
      <div id="fortuneResult" style="margin-top:10px; font-size:14px; text-align:center; color:var(--coquette-pink); font-weight:bold;"></div>
    </div>

    <!-- MEMORY GAME -->
    <div class="game-box">
      <h3>üéÆ Memory Match Game</h3>
      <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
        <span style="font-size:12px;">Moves: <b id="moveCount">0</b></span>
        <span style="font-size:12px;">Matches: <b id="matchCount">0</b>/8</span>
      </div>
      <div class="memory-grid" id="memoryGrid"></div>
      <button class="btn-pink" onclick="resetMemoryGame()">New Game üé≤</button>
    </div>

    <!-- COQUETTE QUIZ -->
    <div class="game-box">
      <h3>üíï Coquette Personality Quiz</h3>
      <div id="quizQuestion" style="font-size:14px; margin-bottom:15px; color:var(--vintage-brown);"></div>
      <div class="quiz-options" id="quizOptions"></div>
      <div id="quizResult" style="margin-top:15px; font-size:13px; color:var(--coquette-pink); font-weight:bold; text-align:center;"></div>
    </div>

    <!-- LOVE CALCULATOR ENHANCED -->
    <div class="game-box">
      <h3>üíñ Love Calculator</h3>
      <input type="text" id="crushName" class="diary-input" placeholder="Nama si dia..." style="text-align:center;">
      <div class="love-hearts" id="loveHearts">
        <span class="heart">üíñ</span>
        <span class="heart">üíñ</span>
        <span class="heart">üíñ</span>
        <span class="heart">üíñ</span>
        <span class="heart">üíñ</span>
      </div>
      <div id="love-result" style="font-size: 32px; font-weight: bold; margin: 10px 0; color:var(--coquette-pink); text-align:center;">0%</div>
      <div class="progress-container">
        <div class="progress-bar" id="loveProgress" style="width: 0%;"></div>
      </div>
      <button class="btn-pink" onclick="checkLove()">Calculate Love ü¶¢</button>
      <div id="loveMessage" style="margin-top:10px; font-size:12px; text-align:center; color:#8b5a6d; font-style:italic;"></div>
    </div>

    <!-- THOUGHTS WALL -->
    <div class="game-box">
      <h3>‚ú® Thoughts Wall</h3>
      <input type="text" id="thoughtInput" class="diary-input" placeholder="Apa yang ada di pikiranmu?">
      <button class="btn-pink" onclick="postThought()">Post Thought üí≠</button>
      <div id="thoughtsWall" style="margin-top:15px; max-height:200px; overflow-y:auto;"></div>
    </div>

    <!-- OVERTHINKING SIMULATOR -->
    <div class="game-box">
      <h3>üß† Overthinking Simulator</h3>
      <div id="overthink-display" style="font-size:13px; min-height:60px; margin:10px 0; font-style:italic; color:#777; text-align:center; display:flex; align-items:center; justify-content:center;"></div>
      <button class="btn-pink" onclick="startOverthinking()">Start Overthinking üí≠</button>
    </div>

    <!-- DIARY -->
    <div class="game-box">
      <h3>üìñ Secret Diary</h3>
      <textarea class="diary-input" id="diaryInput" rows="3" placeholder="Tuliskan rahasia hari ini..."></textarea>
      <button class="btn-pink" onclick="saveDiary()">Lock Diary üîê</button>
      <div style="margin-top:10px; font-size:11px; color:#8b5a6d;">
        Total Entries: <b id="diaryCount">0</b>
      </div>
    </div>

    <!-- FOOTER -->
    <div style="text-align:center; margin-top:20px; padding:15px; border-top:2px dashed #ffdae0;">
      <p style="font-size:11px; color:#8b5a6d; font-style:italic;">
        Made with üíñ by Alya ‚Ä¢ Stay magical ‚ú®
      </p>
      <div class="header-decoration" style="margin-top:10px; font-size:20px;">
        <span>ü¶¢</span>
        <span>üíñ</span>
        <span>üå∏</span>
      </div>
    </div>

  </div>
</div>

<script>
  // ========================================
  // INITIALIZATION
  // ========================================
  let currentMood = null;
  let gameState = {
    wishes: 0,
    diaryEntries: 0,
    memoryMoves: 0,
    memoryMatches: 0,
    quizScore: 0
  };

  // ========================================
  // OPEN SANCTUARY
  // ========================================
  function openAlyaWorld() {
    document.getElementById('invitation-overlay').style.display = 'none';
    document.getElementById('mainContent').style.display = 'block';
    startFlowerRain();
    startPopups();
    initMemoryGame();
    loadQuiz();
    loadStats();
  }

  // ========================================
  // POPUP SYSTEM
  // ========================================
  const messages = [
    "You're so pretty! üéÄ", 
    "Don't forget to hydrate üå∏", 
    "Take a deep breath ü¶¢", 
    "Magic is in the air ‚ú®", 
    "You are enough üíñ",
    "Believe in yourself üåü",
    "Stay soft, stay strong ü¶¢",
    "Today is your day! üíï",
    "You're doing amazing! üå∏"
  ];

  function startPopups() {
    setInterval(() => {
      if(document.hidden) return;
      const pop = document.createElement('div');
      pop.className = 'mini-popup animate__animated animate__fadeInRight';
      pop.innerHTML = `<span>ü¶¢</span> ${messages[Math.floor(Math.random()*messages.length)]}`;
      document.body.appendChild(pop);
      setTimeout(() => {
        pop.classList.replace('animate__fadeInRight', 'animate__fadeOutRight');
        setTimeout(() => pop.remove(), 1000);
      }, 5000);
    }, 12000);
  }

  // ========================================
  // MUSIC PLAYER
  // ========================================
  const audio = document.getElementById('bgMusic');
  function toggleMusic() {
    if (audio.paused) { 
      audio.play(); 
      document.getElementById('musicToggle').textContent = "‚è∏"; 
    } else { 
      audio.pause(); 
      document.getElementById('musicToggle').textContent = "‚ñ∂"; 
    }
  }

  // ========================================
  // CLOCK
  // ========================================
  function updateClock() {
    const now = new Date();
    const hours = now.getHours().toString().padStart(2, '0');
    const mins = now.getMinutes().toString().padStart(2, '0');
    const secs = now.getSeconds().toString().padStart(2, '0');
    
    document.getElementById('digitalTime').textContent = `${hours}:${mins}:${secs}`;
    document.getElementById('sec').style.transform = `translateX(-50%) rotate(${now.getSeconds()*6}deg)`;
    document.getElementById('min').style.transform = `translateX(-50%) rotate(${now.getMinutes()*6}deg)`;
    document.getElementById('hour').style.transform = `translateX(-50%) rotate(${(now.getHours()%12)*30 + now.getMinutes()/2}deg)`;
  }
  setInterval(updateClock, 1000);
  updateClock();

  // ========================================
  // WISHING TREE
  // ========================================
  function addWish() {
    const input = document.getElementById('wishInput');
    const tree = document.getElementById('treeLeaves');
    if (input.value.trim() !== "") {
      const emojis = ['üíñ', 'üå∏', '‚ú®', 'ü¶¢', 'üíï', 'üåü', 'üí´', 'üéÄ'];
      const fruit = document.createElement('div');
      fruit.className = 'wish-fruit animate__animated animate__zoomIn';
      fruit.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
      fruit.setAttribute('data-wish', input.value);
      fruit.style.left = (Math.random() * 110 + 10) + 'px';
      fruit.style.top = (Math.random() * 90 + 10) + 'px';
      tree.appendChild(fruit);
      input.value = "";
      
      gameState.wishes++;
      document.getElementById('totalWishes').textContent = gameState.wishes;
      saveStats();
    }
  }

  // ========================================
  // MOOD TRACKER
  // ========================================
  function selectMood(emoji, element) {
    document.querySelectorAll('.mood-btn').forEach(btn => btn.classList.remove('selected'));
    element.classList.add('selected');
    currentMood = emoji;
  }

  function saveMood() {
    const note = document.getElementById('moodNote').value;
    if (currentMood && note) {
      const time = new Date().toLocaleTimeString('id-ID', {hour: '2-digit', minute: '2-digit'});
      const history = document.getElementById('moodHistory');
      const entry = document.createElement('div');
      entry.style.cssText = 'background:#fff0f5; padding:8px; margin:5px 0; border-radius:10px; border-left:3px solid var(--coquette-pink);';
      entry.innerHTML = `<b>${currentMood}</b> ${time} - ${note}`;
      history.insertBefore(entry, history.firstChild);
      
      document.getElementById('moodNote').value = '';
      document.querySelectorAll('.mood-btn').forEach(btn => btn.classList.remove('selected'));
      currentMood = null;
      
      // Keep only last 5 entries
      while(history.children.length > 5) {
        history.removeChild(history.lastChild);
      }
    }
  }

  // ========================================
  // FORTUNE WHEEL
  // ========================================
  const fortunes = [
    "Love is coming your way! üíñ",
    "A surprise awaits you today! ‚ú®",
    "Someone is thinking about you ü¶¢",
    "Good news is on the horizon! üåü",
    "Your dreams will come true! üí´",
    "Happiness is just around the corner! üå∏",
    "Trust your intuition today! üíï",
    "A magical moment awaits! üéÄ"
  ];

  function spinWheel() {
    const wheel = document.getElementById('fortuneWheel');
    const randomRotation = Math.floor(Math.random() * 360) + 1440; // At least 4 full rotations
    wheel.style.transform = `rotate(${randomRotation}deg)`;
    
    setTimeout(() => {
      const fortune = fortunes[Math.floor(Math.random() * fortunes.length)];
      document.getElementById('fortuneResult').innerHTML = fortune;
      document.getElementById('fortuneResult').className = 'animate__animated animate__bounceIn';
    }, 3000);
  }

  // ========================================
  // MEMORY GAME
  // ========================================
  let memoryCards = [];
  let flippedCards = [];
  let matchedPairs = 0;

  function initMemoryGame() {
    const emojis = ['ü¶¢', 'üíñ', 'üå∏', '‚ú®', 'üéÄ', 'üíï', 'üåü', 'üí´'];
    memoryCards = [...emojis, ...emojis].sort(() => Math.random() - 0.5);
    
    const grid = document.getElementById('memoryGrid');
    grid.innerHTML = '';
    
    memoryCards.forEach((emoji, index) => {
      const card = document.createElement('div');
      card.className = 'memory-card';
      card.innerHTML = '?';
      card.dataset.emoji = emoji;
      card.dataset.index = index;
      card.onclick = () => flipCard(card);
      grid.appendChild(card);
    });
    
    gameState.memoryMoves = 0;
    matchedPairs = 0;
    document.getElementById('moveCount').textContent = '0';
    document.getElementById('matchCount').textContent = '0';
  }

  function flipCard(card) {
    if (flippedCards.length >= 2 || card.classList.contains('flipped') || card.classList.contains('matched')) return;
    
    card.classList.add('flipped');
    card.innerHTML = card.dataset.emoji;
    flippedCards.push(card);
    
    if (flippedCards.length === 2) {
      gameState.memoryMoves++;
      document.getElementById('moveCount').textContent = gameState.memoryMoves;
      
      setTimeout(() => {
        if (flippedCards[0].dataset.emoji === flippedCards[1].dataset.emoji) {
          flippedCards.forEach(c => c.classList.add('matched'));
          matchedPairs++;
          document.getElementById('matchCount').textContent = matchedPairs;
          
          if (matchedPairs === 8) {
            setTimeout(() => {
              alert(`üéâ Congratulations! You won in ${gameState.memoryMoves} moves!`);
            }, 500);
          }
        } else {
          flippedCards.forEach(c => {
            c.classList.remove('flipped');
            c.innerHTML = '?';
          });
        }
        flippedCards = [];
      }, 800);
    }
  }

  function resetMemoryGame() {
    initMemoryGame();
  }

  // ========================================
  // COQUETTE QUIZ
  // ========================================
  const quizQuestions = [
    {
      question: "Warna coquette favoritmu?",
      options: ["Pink Pastel üå∏", "Putih Mutiara ü¶¢", "Lavender üíú", "Cream ü§ç"],
      points: [10, 8, 9, 7]
    },
    {
      question: "Aktivitas santai pilihanmu?",
      options: ["Journaling üìñ", "Mendengar musik üéµ", "Minum tea ‚òï", "Merangkai bunga üå∏"],
      points: [10, 9, 8, 10]
    },
    {
      question: "Aksesori favoritmu?",
      options: ["Pita rambut üéÄ", "Kalung mutiara üíé", "Gelang charm ‚ú®", "Anting bunga üå∏"],
      points: [10, 9, 8, 9]
    }
  ];

  let currentQuizIndex = 0;
  let totalQuizScore = 0;

  function loadQuiz() {
    if (currentQuizIndex >= quizQuestions.length) {
      showQuizResult();
      return;
    }
    
    const q = quizQuestions[currentQuizIndex];
    document.getElementById('quizQuestion').textContent = q.question;
    
    const optionsDiv = document.getElementById('quizOptions');
    optionsDiv.innerHTML = '';
    
    q.options.forEach((option, index) => {
      const btn = document.createElement('div');
      btn.className = 'quiz-option';
      btn.textContent = option;
      btn.onclick = () => selectQuizOption(index, q.points[index], btn);
      optionsDiv.appendChild(btn);
    });
  }

  function selectQuizOption(index, points, element) {
    totalQuizScore += points;
    element.classList.add('correct');
    
    setTimeout(() => {
      currentQuizIndex++;
      loadQuiz();
    }, 800);
  }

  function showQuizResult() {
    let personality = '';
    if (totalQuizScore >= 27) {
      personality = "üíñ Pure Coquette - You're the essence of softness and grace!";
    } else if (totalQuizScore >= 20) {
      personality = "ü¶¢ Elegant Swan - Graceful and timeless beauty!";
    } else {
      personality = "üå∏ Blooming Rose - Sweet and charming!";
    }
    
    document.getElementById('quizResult').innerHTML = personality;
    document.getElementById('quizQuestion').textContent = "Quiz Complete!";
    document.getElementById('quizOptions').innerHTML = '<button class="btn-pink" onclick="resetQuiz()">Take Again üíï</button>';
  }

  function resetQuiz() {
    currentQuizIndex = 0;
    totalQuizScore = 0;
    document.getElementById('quizResult').innerHTML = '';
    loadQuiz();
  }

  // ========================================
  // LOVE CALCULATOR
  // ========================================
  function checkLove() {
    const name = document.getElementById('crushName').value;
    if (name.trim() === '') return;
    
    const percentage = Math.floor(Math.random() * 101);
    document.getElementById('love-result').textContent = percentage + '%';
    
    const progressBar = document.getElementById('loveProgress');
    progressBar.style.width = percentage + '%';
    progressBar.textContent = percentage + '%';
    
    // Animate hearts
    const hearts = document.querySelectorAll('.heart');
    const activeHearts = Math.floor(percentage / 20);
    hearts.forEach((heart, index) => {
      setTimeout(() => {
        if (index < activeHearts) {
          heart.classList.add('active');
        } else {
          heart.classList.remove('active');
        }
      }, index * 100);
    });
    
    // Love message
    let message = '';
    if (percentage >= 80) message = "Perfect match! üíñ Meant to be together!";
    else if (percentage >= 60) message = "Strong connection! ü¶¢ There's definitely something here!";
    else if (percentage >= 40) message = "Potential! ‚ú® Keep trying!";
    else if (percentage >= 20) message = "Just friends! üå∏ Maybe that's okay too!";
    else message = "Not the one! üíî Keep searching!";
    
    document.getElementById('loveMessage').textContent = message;
  }

  // ========================================
  // THOUGHTS WALL
  // ========================================
  function postThought() {
    const input = document.getElementById('thoughtInput');
    const wall = document.getElementById('thoughtsWall');
    
    if (input.value.trim() !== '') {
      const thought = document.createElement('div');
      thought.style.cssText = 'background:white; padding:10px; margin:8px 0; border-radius:12px; border-left:3px solid var(--coquette-pink); font-size:13px;';
      thought.className = 'animate__animated animate__fadeInUp';
      
      const time = new Date().toLocaleTimeString('id-ID', {hour: '2-digit', minute: '2-digit'});
      thought.innerHTML = `<span style="color:#8b5a6d; font-size:11px;">${time}</span><br>${input.value}`;
      
      wall.insertBefore(thought, wall.firstChild);
      input.value = '';
      
      // Keep only last 10 thoughts
      while(wall.children.length > 10) {
        wall.removeChild(wall.lastChild);
      }
    }
  }

  // ========================================
  // OVERTHINKING SIMULATOR
  // ========================================
  let overthinkInterval;
  function startOverthinking() {
    const thoughts = [
      "Kenapa ya tadi dia bilang gitu?",
      "Apa maksudnya sebenarnya?",
      "Duh, harusnya aku jawab apa tadi...",
      "Gimana kalau dia salah paham?",
      "Aneh gak sih aku kayak gini?",
      "Kok aku jadi mikirin ini terus...",
      "Mungkin aku terlalu sensitif?",
      "Atau dia yang terlalu cuek?",
      "Sebaiknya aku gimana ya?",
      "Ah sudahlah, yang penting happy! üíñ"
    ];
    
    const display = document.getElementById('overthink-display');
    let index = 0;
    
    clearInterval(overthinkInterval);
    display.textContent = thoughts[0];
    
    overthinkInterval = setInterval(() => {
      index++;
      if (index >= thoughts.length) {
        clearInterval(overthinkInterval);
        display.innerHTML = '<span style="color:var(--coquette-pink); font-weight:bold;">‚ú® Overthinking complete! Time to relax ü¶¢</span>';
        return;
      }
      display.textContent = thoughts[index];
      display.className = 'animate__animated animate__fadeIn';
    }, 2000);
  }

  // ========================================
  // DIARY
  // ========================================
  function saveDiary() {
    const input = document.getElementById('diaryInput');
    if (input.value.trim() !== '') {
      gameState.diaryEntries++;
      document.getElementById('diaryCount').textContent = gameState.diaryEntries;
      saveStats();
      
      const notification = document.createElement('div');
      notification.style.cssText = 'position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:white; padding:20px 40px; border-radius:20px; border:3px solid var(--coquette-pink); box-shadow:0 10px 30px rgba(0,0,0,0.3); z-index:10001; text-align:center;';
      notification.className = 'animate__animated animate__zoomIn';
      notification.innerHTML = '<div style="font-size:40px;">üîê</div><div style="margin-top:10px; color:var(--coquette-pink); font-weight:bold;">Diary Locked!</div><div style="font-size:12px; color:#8b5a6d; margin-top:5px;">Your secrets are safe üíñ</div>';
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.classList.replace('animate__zoomIn', 'animate__zoomOut');
        setTimeout(() => notification.remove(), 500);
      }, 2000);
      
      input.value = '';
    }
  }

  // ========================================
  // FLOWER RAIN
  // ========================================
  function startFlowerRain() {
    setInterval(() => {
      const flowers = ['üå∏', 'üå∫', 'üåº', 'üåª', 'üå∑', 'ü¶¢', 'üíñ', '‚ú®'];
      const p = document.createElement('div');
      p.className = 'petal';
      p.innerText = flowers[Math.floor(Math.random() * flowers.length)];
      p.style.left = Math.random() * 100 + 'vw';
      p.style.fontSize = (Math.random() * 15 + 12) + 'px';
      const dur = Math.random() * 3 + 5;
      p.style.animationDuration = dur + 's';
      document.body.appendChild(p);
      setTimeout(() => p.remove(), dur * 1000);
    }, 3000);
  }

  // ========================================
  // STATS MANAGEMENT
  // ========================================
  function saveStats() {
    localStorage.setItem('alyaStats', JSON.stringify(gameState));
  }

  function loadStats() {
    const saved = localStorage.getItem('alyaStats');
    if (saved) {
      gameState = JSON.parse(saved);
      document.getElementById('totalWishes').textContent = gameState.wishes;
      document.getElementById('diaryCount').textContent = gameState.diaryEntries;
    }
    
    // Calculate days active (simplified)
    const firstVisit = localStorage.getItem('firstVisit');
    if (!firstVisit) {
      localStorage.setItem('firstVisit', new Date().toISOString());
      document.getElementById('daysActive').textContent = '1';
    } else {
      const days = Math.floor((new Date() - new Date(firstVisit)) / (1000 * 60 * 60 * 24)) + 1;
      document.getElementById('daysActive').textContent = days;
    }
  }

  // ========================================
  // AUTO-SAVE ON EXIT
  // ========================================
  window.addEventListener('beforeunload', () => {
    saveStats();
  });
</script>

</body>
</html>